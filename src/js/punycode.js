// https://stackoverflow.com/questions/183485/converting-punycode-with-dash-character-to-unicode
var punycode=new function(){this.utf16={decode:function(r){for(var o,e,n=[],t=0,f=r.length;t<f;){if(55296==(63488&(o=r.charCodeAt(t++)))){if(e=r.charCodeAt(t++),55296!=(64512&o)||56320!=(64512&e))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");o=((1023&o)<<10)+(1023&e)+65536}n.push(o)}return n},encode:function(r){for(var o,e=[],n=0,t=r.length;n<t;){if(55296==(63488&(o=r[n++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");65535<o&&(o-=65536,e.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),e.push(String.fromCharCode(o))}return e.join("")}};var w=36,t=700,y=1,A=26,f=38,E=2147483647;function M(r,o){return r+22+75*(r<26)-((0!=o)<<5)}function R(r,o,e){var n;for(r=e?Math.floor(r/t):r>>1,r+=Math.floor(r/o),n=0;(w-y)*A>>1<r;n+=w)r=Math.floor(r/(w-y));return Math.floor(n+(w-y+1)*r/(r+f))}this.decode=function(r,o){var e,n,t,f,h,a,i,u,c=[],d=[],l=r.length,p=128,g=0,s=72,C=r.lastIndexOf("-");for(C<0&&(C=0),n=0;n<C;++n){if(o&&(d[c.length]=r.charCodeAt(n)-65<26),128<=r.charCodeAt(n))throw new RangeError("Illegal input >= 0x80");c.push(r.charCodeAt(n))}for(t=0<C?C+1:0;t<l;){for(f=g,h=1,a=w;;a+=w){if(l<=t)throw RangeError("punycode_bad_input(1)");if(u=r.charCodeAt(t++),w<=(u=u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:w))throw RangeError("punycode_bad_input(2)");if(u>Math.floor((E-g)/h))throw RangeError("punycode_overflow(1)");if(g+=u*h,u<(u=a<=s?y:s+A<=a?A:a-s))break;if(h>Math.floor(E/(w-u)))throw RangeError("punycode_overflow(2)");h*=w-u}if(s=R(g-f,e=c.length+1,0===f),Math.floor(g/e)>E-p)throw RangeError("punycode_overflow(3)");p+=Math.floor(g/e),g%=e,o&&d.splice(g,0,r.charCodeAt(t-1)-65<26),c.splice(g,0,p),g++}if(o)for(g=0,i=c.length;g<i;g++)d[g]&&(c[g]=String.fromCharCode(c[g]).toUpperCase().charCodeAt(0));return this.utf16.encode(c)},this.encode=function(r,o){var e,n,t,f,h,a,i,u;o&&(u=this.utf16.decode(r));var c=(r=this.utf16.decode(r.toLowerCase())).length;if(o)for(v=0;v<c;v++)u[v]=r[v]!=u[v];for(var d,l,p=[],g=128,s=0,C=72,v=0;v<c;++v)r[v]<128&&p.push(String.fromCharCode(u?(d=r[v],l=u[v],(d-=(d-97<26)<<5)+((!l&&d-65<26)<<5)):r[v]));for(e=n=p.length,0<n&&p.push("-");e<c;){for(t=E,v=0;v<c;++v)g<=(i=r[v])&&i<t&&(t=i);if(t-g>Math.floor((E-s)/(e+1)))throw RangeError("punycode_overflow (1)");for(s+=(t-g)*(e+1),g=t,v=0;v<c;++v){if(i=r[v],i<g&&++s>E)return Error("punycode_overflow(2)");if(i==g){for(f=s,h=w;!(f<(a=h<=C?y:C+A<=h?A:h-C));h+=w)p.push(String.fromCharCode(M(a+(f-a)%(w-a),0))),f=Math.floor((f-a)/(w-a));p.push(String.fromCharCode(M(f,o&&u[v]?1:0))),C=R(s,e+1,e==n),s=0,++e}}++s,++g}return p.join("")},this.ToASCII=function(r){for(var o=r.split("."),e=[],n=0;n<o.length;++n){var t=o[n];e.push(t.match(/[^A-Za-z0-9-]/)?"xn--"+punycode.encode(t):t)}return e.join(".")},this.ToUnicode=function(r){for(var o=r.split("."),e=[],n=0;n<o.length;++n){var t=o[n];e.push(t.match(/^xn--/)?punycode.decode(t.slice(4)):t)}return e.join(".")}};